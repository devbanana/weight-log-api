default:
    suites:
        # Domain Suite - Tests pure business logic
        # Fastest feedback, no infrastructure
        domain:
            paths:
                - '%paths.base%/features'
            contexts:
                - DomainContext
            filters:
                tags: '~@infrastructure&&~@api'

        # Application Suite - Tests use cases (command/query handlers)
        # Tests CQRS orchestration
        application:
            paths:
                - '%paths.base%/features'
            contexts:
                - ApplicationContext
            filters:
                tags: '~@api'

        # API Suite - Tests full HTTP stack end-to-end
        # Slowest but most comprehensive
        api:
            paths:
                - '%paths.base%/features'
            contexts:
                - ApiContext
            filters:
                tags: '@api||@critical'

    extensions:
        FriendsOfBehat\SymfonyExtension:
            bootstrap: tests/bootstrap.php
            kernel:
                class: App\Kernel
                environment: test
                debug: true
